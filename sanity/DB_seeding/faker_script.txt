
You are a Python code expert specialized in the `Faker` library and populating databases with realistic data. Your task is to create a code snippet that generates fake data for database seeding using the `Faker` library. The function should create realistic names, addresses, and other relevant fields based on the context of the application. The database is json files that resemble the tables in the database schema where the key of each entry is the id of the primary key of that entry. I will provide you with the database schema and the fields that need to be populated. Also, the relations between the tables will be provided, and you should ensure that the generated data respects these relations. Before that, I will provide you with the rules that you have to adhere to while generating the data.

Rules:
1. The one-to-many relationships should be respected, meaning that for each entry in the "one" table, there can be multiple entries in the "many" table or only one.
2. The data IDs should be unique within each table but can be reused across different tables.
3. The generated IDs should be strings, not integers. They also should be incremental and unique, starting from "1".
4. The IDs should be consistent across the related tables. There can not be inconsistencies in the IDs across the tables. They also should retain the semantic meaning of the IDs.
5. The script should fill in the all the fields in the database schema, except for the free-form text fields (comments, notes and description) but not name (and other enum types), which can be left empty.
6. The script should generate a reasonable amount of data for each table, ensuring that the database is populated with enough records to be useful for testing and development.
7. The connections has to be coherent. For example, if a user belongs to a department within a company, the company ID should match the one in the department table. Another example is that if a product belongs to a category and subcategory, the subcategory and category should be connected correctly having compatible IDs and names.
8. All foreign keys must reference an existing, valid ID in the parent table.
9. No orphan foreign keys allowed.
10. Ensure that `created_at` and `updated_at` timestamps are generated correctly, with `created_at` being earlier than `updated_at`.
11. Do not add null values in the entries of the database that can be filled with fake data except for the fields that are explicitly mentioned to be left empty or special cases.
12. If there are emails, then script should generate realistic emails. For example, a list of domains can be defined and the script can randomly choose domain and first name and last name can be concatenated alone with random numbers to generate fake but realistic data.
13. If there are phone numbers, then the script should generate them in a consistent and realistic format by combining valid area codes (if applicable) with randomly generated digits, ensuring all numbers follow a standardized structure.
14. The key of each entry in the JSON object should represent the primary ID of the record, and it must match the corresponding ID field inside the entry. For example, in the example below, the key '1' maps to a user object where 'user_id' is also '1'

Here is an example:
{
  "1": {
    "user_id": "1",
    "first_name": "Zachary",
    "last_name": "Potts",
    "phone_number": "+14053755545",
    "role": "Owner",
    "parent_id": null,
    "email": "zachary.potts@outlook.com",
    "primary_address_id": "48",
    "date_of_birth": "1979-09-09",
    "status": "active",
    "created_at": "2024-03-09T09:43:15.451684",
    "updated_at": "2024-06-23T12:26:24.690474"
  },
  "2": {
    "user_id": "2",
    "first_name": "Angela",
    "last_name": "Potts",
    "phone_number": "+12079628353",
    "role": "Partner",
    "parent_id": null,
    "email": "potts941@gmail.com",
    "primary_address_id": "48",
    "date_of_birth": "1971-12-06",
    "status": "active",
    "created_at": "2025-05-06T08:03:16.066091",
    "updated_at": "2025-06-10T07:26:47.293308"
  }
}

Database Schema:
CREATE TABLE `companies` (
  `company_id` integer PRIMARY KEY,
  `name` varchar(255),
  `industry` varchar(100),
  `address` varchar(255),
  `created_at` timestamp,
  `updated_at` timestamp
);

CREATE TABLE `users` (
  `user_id` integer PRIMARY KEY,
  `first_name` varchar(255),
  `last_name` varchar(255),
  `email` varchar(320) UNIQUE,
  `role` enum(end_user,agent,manager,admin),
  `status` enum(active,inactive),
  `timezone` varchar(50),
  `company_id` integer,
  `department_id` integer COMMENT 'Only for agents',
  `password_hash` varchar(255),
  `created_at` timestamp,
  `updated_at` timestamp
);

CREATE TABLE `departments` (
  `department_id` integer PRIMARY KEY,
  `name` varchar(255),
  `manager_id` integer,
  `company_id` integer,
  `created_at` timestamp,
  `updated_at` timestamp
);

CREATE TABLE `categories` (
  `category_id` integer PRIMARY KEY,
  `name` varchar(100),
  `created_at` timestamp,
  `updated_at` timestamp
);

CREATE TABLE `subcategories` (
  `subcategory_id` integer PRIMARY KEY,
  `category_id` integer,
  `name` varchar(100),
  `created_at` timestamp,
  `updated_at` timestamp
);

CREATE TABLE `incidents` (
  `incident_id` integer PRIMARY KEY,
  `title` varchar(255),
  `description` text,
  `category_id` integer,
  `subcategory_id` integer,
  `reported_by` integer NOT NULL,
  `assigned_to` integer,
  `department_id` integer,
  `company_id` integer,
  `status` enum(open,in_progress,resolved,closed),
  `priority` enum(low,medium,high,critical),
  `created_at` timestamp,
  `updated_at` timestamp
);

CREATE TABLE `incident_history` (
  `incident_history_id` integer PRIMARY KEY,
  `incident_id` integer,
  `changed_by` integer,
  `incident_values` jsonb,
  `task_values` jsonb,
  `changed_at` timestamp
);

CREATE TABLE `incident_comments` (
  `incident_comment_id` integer PRIMARY KEY,
  `incident_id` integer,
  `user_id` integer,
  `comment_text` text,
  `is_public` boolean,
  `created_at` timestamp,
  `updated_at` timestamp
);

CREATE TABLE `incident_attachments` (
  `incident_attachment_id` integer PRIMARY KEY,
  `incident_id` integer,
  `uploaded_by` integer,
  `file_name` varchar(500),
  `file_url` varchar(500),
  `uploaded_at` timestamp,
  `created_at` timestamp,
  `updated_at` timestamp
);

CREATE TABLE `tasks` (
  `task_id` integer PRIMARY KEY,
  `incident_id` integer,
  `description` text,
  `assigned_to` integer,
  `status` enum(todo,in_progress,blocked,done,cancelled),
  `priority` enum(low,medium,high,critical),
  `due_date` timestamp,
  `created_at` timestamp,
  `updated_at` timestamp
);

CREATE TABLE `change_requests` (
  `change_request_id` integer PRIMARY KEY,
  `incident_id` integer COMMENT 'Linked incident if applicable',
  `assigned_to` integer NOT NULL,
  `approved_by` integer,
  `description` varchar(255),
  `status` enum(draft,submitted,approved,rejected,in_progress,implemented,closed),
  `priority` enum(low,medium,high,critical),
  `risk_level` enum(low,medium,high),
  `affected_scope` jsonb,
  `scheduled_start` timestamp,
  `scheduled_end` timestamp,
  `created_at` timestamp,
  `updated_at` timestamp
);

CREATE TABLE `sla_policies` (
  `sla_id` integer PRIMARY KEY,
  `name` varchar(100),
  `priority` enum(low,medium,high,critical),
  `category_id` integer,
  `response_time` integer COMMENT 'in minutes',
  `resolve_time` integer COMMENT 'in minutes',
  `created_at` timestamp,
  `updated_at` timestamp
);

CREATE TABLE `incident_sla` (
  `incident_sla_id` integer PRIMARY KEY,
  `incident_id` integer,
  `sla_id` integer,
  `response_due` timestamp,
  `resolve_due` timestamp,
  `breached` boolean,
  `status` enum(Pending,Completed,Cancelled),
  `created_at` timestamp,
  `updated_at` timestamp
);

CREATE TABLE `knowledge_base` (
  `knowledge_base_id` integer PRIMARY KEY,
  `description` varchar(255),
  `created_by` integer,
  `category_id` integer,
  `subcategory_id` integer,
  `company_id` integer,
  `department_id` integer,
  `created_at` timestamp,
  `updated_at` timestamp
);

CREATE TABLE `incident_knowledge` (
  `incident_id` integer,
  `knowledge_base_id` integer,
  `created_at` timestamp
);

CREATE TABLE `surveys` (
  `survey_id` integer PRIMARY KEY,
  `incident_id` integer,
  `user_id` integer,
  `rating` integer,
  `submitted_at` timestamp,
  `created_at` timestamp,
  `updated_at` timestamp
);

ALTER TABLE `users` ADD FOREIGN KEY (`company_id`) REFERENCES `companies` (`company_id`);

ALTER TABLE `departments` ADD FOREIGN KEY (`company_id`) REFERENCES `companies` (`company_id`);

ALTER TABLE `incidents` ADD FOREIGN KEY (`company_id`) REFERENCES `companies` (`company_id`);

ALTER TABLE `knowledge_base` ADD FOREIGN KEY (`company_id`) REFERENCES `companies` (`company_id`);

ALTER TABLE `users` ADD FOREIGN KEY (`department_id`) REFERENCES `departments` (`department_id`);

ALTER TABLE `incidents` ADD FOREIGN KEY (`department_id`) REFERENCES `departments` (`department_id`);

ALTER TABLE `departments` ADD FOREIGN KEY (`manager_id`) REFERENCES `users` (`user_id`);

ALTER TABLE `knowledge_base` ADD FOREIGN KEY (`department_id`) REFERENCES `departments` (`department_id`);

ALTER TABLE `subcategories` ADD FOREIGN KEY (`category_id`) REFERENCES `categories` (`category_id`);

ALTER TABLE `incidents` ADD FOREIGN KEY (`category_id`) REFERENCES `categories` (`category_id`);

ALTER TABLE `incidents` ADD FOREIGN KEY (`subcategory_id`) REFERENCES `subcategories` (`subcategory_id`);

ALTER TABLE `knowledge_base` ADD FOREIGN KEY (`category_id`) REFERENCES `categories` (`category_id`);

ALTER TABLE `knowledge_base` ADD FOREIGN KEY (`subcategory_id`) REFERENCES `subcategories` (`subcategory_id`);

ALTER TABLE `sla_policies` ADD FOREIGN KEY (`category_id`) REFERENCES `categories` (`category_id`);

ALTER TABLE `incidents` ADD FOREIGN KEY (`reported_by`) REFERENCES `users` (`user_id`);

ALTER TABLE `incidents` ADD FOREIGN KEY (`assigned_to`) REFERENCES `users` (`user_id`);

ALTER TABLE `incident_history` ADD FOREIGN KEY (`incident_id`) REFERENCES `incidents` (`incident_id`);

ALTER TABLE `incident_history` ADD FOREIGN KEY (`changed_by`) REFERENCES `users` (`user_id`);

ALTER TABLE `incident_comments` ADD FOREIGN KEY (`incident_id`) REFERENCES `incidents` (`incident_id`);

ALTER TABLE `incident_comments` ADD FOREIGN KEY (`user_id`) REFERENCES `users` (`user_id`);

ALTER TABLE `incident_attachments` ADD FOREIGN KEY (`incident_id`) REFERENCES `incidents` (`incident_id`);

ALTER TABLE `incident_attachments` ADD FOREIGN KEY (`uploaded_by`) REFERENCES `users` (`user_id`);

ALTER TABLE `tasks` ADD FOREIGN KEY (`incident_id`) REFERENCES `incidents` (`incident_id`);

ALTER TABLE `tasks` ADD FOREIGN KEY (`assigned_to`) REFERENCES `users` (`user_id`);

ALTER TABLE `change_requests` ADD FOREIGN KEY (`incident_id`) REFERENCES `incidents` (`incident_id`);

ALTER TABLE `change_requests` ADD FOREIGN KEY (`assigned_to`) REFERENCES `users` (`user_id`);

ALTER TABLE `change_requests` ADD FOREIGN KEY (`approved_by`) REFERENCES `users` (`user_id`);

ALTER TABLE `incident_sla` ADD FOREIGN KEY (`incident_id`) REFERENCES `incidents` (`incident_id`);

ALTER TABLE `incident_sla` ADD FOREIGN KEY (`sla_id`) REFERENCES `sla_policies` (`sla_id`);

ALTER TABLE `knowledge_base` ADD FOREIGN KEY (`created_by`) REFERENCES `users` (`user_id`);

ALTER TABLE `incident_knowledge` ADD FOREIGN KEY (`incident_id`) REFERENCES `incidents` (`incident_id`);

ALTER TABLE `incident_knowledge` ADD FOREIGN KEY (`knowledge_base_id`) REFERENCES `knowledge_base` (`knowledge_base_id`);

ALTER TABLE `surveys` ADD FOREIGN KEY (`incident_id`) REFERENCES `incidents` (`incident_id`);

ALTER TABLE `surveys` ADD FOREIGN KEY (`user_id`) REFERENCES `users` (`user_id`);

ALTER TABLE `sla_policies` ADD FOREIGN KEY (`name`) REFERENCES `sla_policies` (`category_id`);

ALTER TABLE `knowledge_base` ADD FOREIGN KEY (`created_by`) REFERENCES `knowledge_base` (`category_id`);


